#!/usr/bin/env bash

if [ -z "$TMUX" ]; then
    # Tenta conectar a uma sess찾o existente primeiro
    tmux attach || {
        # Se n찾o conseguir conectar, pega o nome do diret처rio atual
        dirname=$(basename "$PWD")
        # Remove o ponto inicial se existir e substitui outros pontos por underscore
        session_name=$(echo "$dirname" | sed 's/^\.//' | sed 's/\./_/g')
        # Cria nova sess찾o com o nome tratado
        tmux new-session -s "$session_name"
    }
fi
